{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _extends2 from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"index\", \"isDisabled\"];\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React from 'react';\nimport Box from \"../../primitives/Box\";\nimport { AccordionContext, AccordionItemContext } from \"./Context\";\nimport { useThemeProps } from \"../../../hooks\";\nimport { useHasResponsiveProps } from \"../../../hooks/useHasResponsiveProps\";\nvar AccordionItem = function AccordionItem(_ref, ref) {\n  var children = _ref.children,\n    _ref$index = _ref.index,\n    pIndex = _ref$index === void 0 ? 0 : _ref$index,\n    isDisabled = _ref.isDisabled,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _React$useContext = React.useContext(AccordionContext),\n    cIndex = _React$useContext.index,\n    changeHandler = _React$useContext.changeHandler;\n  var _useThemeProps = useThemeProps('AccordionItem', props),\n    newProps = _extends2({}, (_objectDestructuringEmpty(_useThemeProps), _useThemeProps));\n  var isOpen = cIndex === null || cIndex === void 0 ? void 0 : cIndex.includes(pIndex);\n  var onClose = function onClose(cb) {\n    changeHandler && changeHandler(false, pIndex);\n    cb && cb();\n  };\n  var onOpen = function onOpen(cb) {\n    changeHandler && changeHandler(true, pIndex);\n    cb && cb();\n  };\n  var childSetter = function childSetter() {\n    if (typeof children === 'function') return children({\n      isExpanded: isOpen,\n      isDisabled: isDisabled\n    });\n    return children;\n  };\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return React.createElement(AccordionItemContext.Provider, {\n    value: {\n      index: pIndex,\n      isOpen: isOpen,\n      isDisabled: isDisabled,\n      onClose: onClose,\n      onOpen: onOpen\n    }\n  }, React.createElement(Box, _extends({}, newProps, {\n    ref: ref\n  }), childSetter()));\n};\nexport default React.memo(React.forwardRef(AccordionItem));","map":{"version":3,"sources":["AccordionItem.tsx"],"names":["React","Box","AccordionContext","AccordionItemContext","useThemeProps","useHasResponsiveProps","AccordionItem","children","index","pIndex","isDisabled","props","ref","cIndex","changeHandler","useContext","newProps","isOpen","includes","onClose","cb","onOpen","childSetter","isExpanded","memo","forwardRef"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;AACA,SAASC,gBAAT,EAA2BC,oBAA3B;AAEA,SAASC,aAAT;AACA,SAASC,qBAAT;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAa,OAEjBM,GAFoB,EAGjB;EAAA,IAFDL,QAAF,QAAEA,QAAF;IAAA,kBAAYC,KAAK;IAAEC,MAAM,2BAAG,CAA5B;IAA+BC,UAA/B,QAA+BA,UAA/B;IAA8CC,KAAAA;EAG9C,wBAG4BX,KAAK,CAACe,UAANf,CAAiBE,gBAAjBF,CAH5B;IACSa,MADH,qBACJL,KAAK;IACLM,aAAAA,qBAAAA,aAAAA;EAEF,qBAAwBV,aAAa,CAAC,eAAD,EAAkBO,KAAlB,CAArC;IAAWK,QAAAA;EAEX,IAAMC,MAAM,GAAGJ,MAAH,KAAA,IAAA,IAAGA,MAAH,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAGA,MAAM,CAAEK,QAARL,CAAiBJ,MAAjBI,CAAf;EACA,IAAMM,OAAO,GAAIC,SAAXD,OAAO,CAAIC,EAAD,EAAqB;IACnCN,aAAa,IAAIA,aAAa,CAAC,KAAD,EAAQL,MAAR,CAA9BK;IACAM,EAAE,IAAIA,EAAE,EAARA;EACD,CAHD;EAIA,IAAMC,MAAM,GAAID,SAAVC,MAAM,CAAID,EAAD,EAAqB;IAClCN,aAAa,IAAIA,aAAa,CAAC,IAAD,EAAOL,MAAP,CAA9BK;IACAM,EAAE,IAAIA,EAAE,EAARA;EACD,CAHD;EAIA,IAAME,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxB,IAAI,OAAOf,QAAP,KAAoB,UAAxB,EACE,OAAOA,QAAQ,CAAC;MAAEgB,UAAU,EAAEN,MAAd;MAAsBP,UAAAA,EAAAA;IAAtB,CAAD,CAAf;IACF,OAAOH,QAAP;EACD,CApBE;;EAsBH,IAAIF,qBAAqB,CAACM,KAAD,CAAzB,EAAkC;IAChC,OAAO,IAAP;EACD;EACD,OACE,KAAA,CAAA,aAAA,CAAC,oBAAD,CAAsB,QAAtB,EAAA;IACE,KAAK,EAAE;MACLH,KAAK,EAAEC,MADF;MAELQ,MAFK,EAELA,MAFK;MAGLP,UAHK,EAGLA,UAHK;MAILS,OAJK,EAILA,OAJK;MAKLE,MAAAA,EAAAA;IALK;EADT,CAAA,EASE,KAAA,CAAA,aAAA,CAAC,GAAD,EAAA,QAAA,CAAA,CAAA,CAAA,EAASL,QAAT,EAAA;IAAmB,GAAG,EAAEJ;EAAxB,CAAA,CAAA,EACGU,WAAW,EADd,CATF,CADF;AAeD,CA3CD;AA6CA,eAAetB,KAAK,CAACwB,IAANxB,CAAWA,KAAK,CAACyB,UAANzB,CAAiBM,aAAjBN,CAAXA,CAAf","sourcesContent":["import React from 'react';\nimport Box from '../../primitives/Box';\nimport { AccordionContext, AccordionItemContext } from './Context';\nimport type { IAccordionItemProps, IAccordionContextProps } from './types';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst AccordionItem = (\n  { children, index: pIndex = 0, isDisabled, ...props }: IAccordionItemProps,\n  ref?: any\n) => {\n  const {\n    index: cIndex,\n    changeHandler,\n  }: IAccordionContextProps = React.useContext(AccordionContext);\n  const { ...newProps } = useThemeProps('AccordionItem', props);\n\n  const isOpen = cIndex?.includes(pIndex);\n  const onClose = (cb?: () => void) => {\n    changeHandler && changeHandler(false, pIndex);\n    cb && cb();\n  };\n  const onOpen = (cb?: () => void) => {\n    changeHandler && changeHandler(true, pIndex);\n    cb && cb();\n  };\n  const childSetter = () => {\n    if (typeof children === 'function')\n      return children({ isExpanded: isOpen, isDisabled });\n    return children;\n  };\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <AccordionItemContext.Provider\n      value={{\n        index: pIndex,\n        isOpen,\n        isDisabled,\n        onClose,\n        onOpen,\n      }}\n    >\n      <Box {...newProps} ref={ref}>\n        {childSetter()}\n      </Box>\n    </AccordionItemContext.Provider>\n  );\n};\n\nexport default React.memo(React.forwardRef(AccordionItem));\n"]},"metadata":{},"sourceType":"module"}